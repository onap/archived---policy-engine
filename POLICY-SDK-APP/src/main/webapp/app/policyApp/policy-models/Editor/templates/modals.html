<!--
  ============LICENSE_START==================================================
  ONAP Policy Engine
  ===========================================================================
  Copyright (C) 2017-2018 AT&T Intellectual Property. All rights reserved.
  ===========================================================================
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
       http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  ============LICENSE_END====================================================
  -->
<div class="modal" id="delete" data-toggle="modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
    <form ng-submit="remove(temp)">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            <span class="sr-only">Close</span>
        </button>
        <h4 class="modal-title">Confirm</h4>
      </div>
      <div class="modal-body">
        Are you Sure to delete   <b>{{temp.model.name}}</b> ?
        <div ng-include data-src="'error-bar'" class="clearfix"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-pedefault" data-dismiss="modal" ng-click="refresh();" ng-disabled="temp.inprocess" title="Close the Delete Scope Window.">Cancel</button>
        <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" autofocus="autofocus" title="OnClick you can delete the Scopes.">Delete</button>
      </div>
      </form>
    </div>
  </div>
</div>

<div class="modal" id="deletePolicy" data-toggle="modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
    <form ng-submit="removePolicy(temp)">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            <span class="sr-only">Close</span>
        </button>
        <h4 class="modal-title">Confirm</h4>
      </div>
      <div class="modal-body">Are you Sure to delete  <b>{{temp.model.name}}</b> ?
      	<div>
      	 <p>          
          	<input type = "radio" ng-model ="temp.model.versions"  name = "radSize" id = "sizeSmall" value = "CURRENT" checked = "checked" /><label for = "sizeSmall">Are you sure you want to delete Current Version of Policy</label>
          	</br>
          	<input type = "radio" ng-model ="temp.model.versions"  name = "radSize" id = "sizeMed"  value = "ALL" /><label for = "sizeMed">Are you sure you want to delete All Versions of Policy</label>
         </p>
      	</div>
        <div ng-include data-src="'error-bar'" class="clearfix"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-pedefault" data-dismiss="modal" ng-click="refresh();" ng-disabled="temp.inprocess" title="Close the Delete Policy Window.">Cancel</button>
        <button type="submit" class="btn btn-primary" ng-disabled="!temp.model.versions" autofocus="autofocus" title="OnClick you can delete the Policies.">Delete</button>
      </div>
      </form>
    </div>
  </div>
</div>

<div class="modal" id="rename" data-toggle="modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="rename(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title">Rename</h4>
            </div>
            <div class="modal-body">
              <label class="radio">Enter New Name : <b>{{temp.model.name}}</b></label>
              <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus" title="Enter the value without space or special characters.">

              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-pedefault" data-dismiss="modal" ng-click="refresh();" ng-disabled="temp.inprocess">Cancel</button>
              <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">Rename</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal" id="searchWindow" data-toggle="modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
        <form>
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title">List of Policies</h4>
            </div>
            <div>
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-pedefault" data-dismiss="modal" ng-disabled="temp.inprocess">Cancel</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal" id="move" data-toggle="modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="move(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title">Move Policy</h4>
            </div>
            <div class="modal-body">
              <div ng-include data-src="'path-selector'" class="clearfix"></div>
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-pedefault" data-dismiss="modal" ng-click="refresh();" ng-disabled="temp.inprocess">Cancel</button>
              <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">Move</button>
            </div>
        </form>
    </div>
  </div>
</div>  

<div class="modal" id="moveScope" data-toggle="modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="move(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title">Move Scope</h4>
            </div>
            <div class="modal-body">
              <div ng-include data-src="'path-selector'" class="clearfix"></div>
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-pedefault" data-dismiss="modal" ng-click="refresh();" ng-disabled="temp.inprocess">Cancel</button>
              <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">Move</button>
            </div>
        </form>
    </div>
  </div>
</div>  

<div class="modal" id="switchVersion" data-toggle="modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="switchVersion(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title">Switch Version</h4>
            </div>
            <div class="modal-body">
              <label class="radio">Highest Version <b></b></label>
              <input class="form-control" ng-disabled="true" ng-model="temp.tempModel.content.highestVersion" autofocus="autofocus" title="The Field shows highest version of Policy.">
            </div>
             <div class="modal-body">
              <label class="radio">Active Version <b></b></label>
              <select class="form-control" ng-model="temp.tempModel.content.activeVersion" ng-options="option for option in temp.tempModel.content.availableVersions" autofocus="autofocus" title="Enter the value not greater than highest version to switch policy."></select>
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-pedefault" data-dismiss="modal" ng-disabled="temp.inprocess" title="OnClick SwitchVersion Window is closed.">Cancel</button>
              <button type="submit" class="btn btn-primary" ng-disabled="temp.tempModel.content.highestVersion === temp.tempModel.content.activeVersion" title="OnClick Policy Version will be Switched.">Save</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal" id="copy" data-toggle="modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="copy(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title">Clone Policy</h4>
            </div>
            <div class="modal-body">
              <label class="radio">Enter new Policy Name to Clone <b>{{temp.model.name}}</b></label>
              <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus" title="Enter the PolicyName without space or special characters.">
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-pedefault" data-dismiss="modal" ng-disabled="temp.inprocess" title="OnClick Clone Window is closed.">Cancel</button>
              <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" title="OnClick the Policy will be cloned.">Clone</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal" id="newfolder" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="createFolder(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title">Add Scope</h4>
            </div>
            <div class="modal-body">
              <label class="radio">Scope Name</label>
              <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus" title="Enter the ScopeName without space or special characters.">
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button id = "cancel" type="button" class="btn btn-pedefault" data-dismiss="modal" ng-disabled="temp.inprocess" title="OnClick Scope Window is closed.">Cancel</button>
              <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" title="OnClick Scope is created.">Create</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal" id="addSubScope" data-toggle="modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="subScopeFolder(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title">Add Sub Scope</h4>
            </div>
            <div class="modal-body">
              <label class="radio">Scope Name</label>
              <input class="form-control" ng-model="temp.tempModel.subScopename" autofocus="autofocus" title="Enter the SubScopeName without space or special characters.">
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-pedefault" data-dismiss="modal" ng-disabled="temp.inprocess" title="OnClick SubScope Window is closed.">Cancel</button>
              <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" title="OnClick SubScope is created.">Create</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal" id="uploadfile" data-toggle="modal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="uploadFiles()">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title">Import</h4>
            </div>
            <div class="modal-body">
              <label class="radio">Upload to</label>
              <input type="file" class="form-control" ng-file="$parent.uploadFileList" autofocus="autofocus" multiple="multiple"/>
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <div ng-show="!fileUploader.requesting">
                  <button type="button" class="btn btn-pedefault" data-dismiss="modal" title="OnClick Import window is closed.">Cancel</button>
                  <button type="submit" class="btn btn-primary" ng-disabled="!uploadFileList.length || fileUploader.requesting" title="OnClick Policy will be Imported.">{{'upload' | translate}}</button>
              </div>
              <div ng-show="fileUploader.requesting">
                  <span class="label label-warning">Uploading......</span>
              </div>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal" id="selector" ng-controller="PolicyManagerModalCtrl">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            <span class="sr-only">Close</span>
        </button>
        <h4 class="modal-title">Select the Destination Scope</h4>
      </div>
      <div>
        <div>
            <div ng-include="config.tplPath + '/current-folder-breadcrumb.html'"></div>
            <div ng-include="config.tplPath + '/main-table-modal.html'"></div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-pedefault" data-dismiss="modal" ng-disabled="temp.inprocess">Close</button>
      </div>
    </div>
  </div>
</div>

<script type="text/ng-template" id="path-selector">
  <div class="panel panel-primary mt10 mb0">
    <div class="panel-body">
        <div class="detail-sources">
          <code class="mr5"><b>Source:</b> {{temp.model.fullPath()}}</code>
        </div>
        <div class="detail-sources">
          <code class="mr5"><b>Destination:</b>{{temp.tempModel.fullPath()}}</code>
          <a href=""  ng-click="openNavigator(temp)"><span class="label label-primary">change</span></a>
        </div>
    </div>
  </div>
</script>

<script type="text/ng-template" id="error-bar">
    <div class="label label-danger error-msg pull-left animated fadeIn" ng-show="temp.error">
      <i class="glyphicon glyphicon-remove-circle"></i>
      <span>{{temp.error}}</span>
    </div>
</script>